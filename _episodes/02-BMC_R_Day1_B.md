---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 02-BMC_R_Day1_B.md in _episodes_rmd/
title: "R variables and data types"
author: "Nicholas Ho, Richard Morris, Darya Vanichkina"
keypoints:
- R supports multiple variable types
- Errors often result because of trying to perform an unsupported operation on a specific data type
- Errors can be cryptic to interpret
- We can use helper packages to import and filter data in R
objectives:
- Assign values to objects in R.
- Solve simple arithmetic operations in R.
- Describe what a data frame is.
questions: What R data types do you think will be most useful in your own work?
source: Rmd
start: 520
teaching: 120
exercises: 60
---



[Back to homepage](https://n-ho.github.io/bmc_r_workshop_2018/)



### R variables and data types

First, we introduce the common variable types and data types that you'll be working with in R. Commonly, errors involve using the wrong variable or data type

**Variable type** | **Type** | **Example**
------------|---------------|---------------------------------
integer | Whole numbers | 1, 100, -9
numeric | Decimals | 0.1, -0.09, 234.567
character | Text | "A", "hello", "welcome"
logical | Booleans | TRUE or FALSE
factor | Categorical | "green", "blue", "red", "purple"

**Data type** | **Type**
---------------|------------------------------------------------
vector | 1D collection of variables of the same type
matrix | 2D collection of variables of the same type
data.frame | 2D collection of variables of multiple types


![R variable and data types](Rvariablesdata.jpg)

## Getting Started


### Working directory
We've created this project in a "working directory". To check where this is, use:

~~~
getwd()
~~~
{: .language-r}



~~~
[1] "/Users/darya/OneDrive - The University of Sydney (Staff)/Training/18_11_BMCNickHo/2018_bmctest/_episodes_rmd"
~~~
{: .output}


### Calculating things in R

Standard math functions work in R:

~~~
2+3
~~~
{: .language-r}



~~~
[1] 5
~~~
{: .output}



~~~
1/1000
~~~
{: .language-r}



~~~
[1] 0.001
~~~
{: .output}



~~~
sqrt(2)
~~~
{: .language-r}



~~~
[1] 1.414214
~~~
{: .output}

We can store values in variables. Variables are a way to both store data and to label data.

~~~
myvariable <- 3
myvariable
~~~
{: .language-r}



~~~
[1] 3
~~~
{: .output}



~~~
myvariable = 3
myvariable
~~~
{: .language-r}



~~~
[1] 3
~~~
{: .output}



~~~
3 -> myvariable
myvariable
~~~
{: .language-r}



~~~
[1] 3
~~~
{: .output}



~~~
myvariable^2
~~~
{: .language-r}



~~~
[1] 9
~~~
{: .output}
## Variable and Data Types

There are several different types of data you can use in R. We'll examine a few common ones in a little more detail.

### Text
Strings are known as "character" in R. Use the double quotes `"` or single quotes `'` to wrap around the string

~~~
myname <- "nick"
~~~
{: .language-r}

We can use the `class()` function to see what data type it is

~~~
class(myname)
~~~
{: .language-r}



~~~
[1] "character"
~~~
{: .output}

### Numbers
Numbers have different classes. The most common two are `integer` and `numeric`. Integers are whole numbers:

~~~
favourite.integer <- as.integer(8)
print(favourite.integer)
~~~
{: .language-r}



~~~
[1] 8
~~~
{: .output}



~~~
class(favourite.integer)
~~~
{: .language-r}



~~~
[1] "integer"
~~~
{: .output}

Numbers can be `numeric` which are decimals:

~~~
favourite.numeric <- as.numeric(8.8)
print(favourite.numeric)
~~~
{: .language-r}



~~~
[1] 8.8
~~~
{: .output}



~~~
class(favourite.numeric)
~~~
{: .language-r}



~~~
[1] "numeric"
~~~
{: .output}



~~~
pvalue.threshold <- 0.05
~~~
{: .language-r}

### Logical (True/False)
We use the `==` to test for equality in R

~~~
class(TRUE)
~~~
{: .language-r}



~~~
[1] "logical"
~~~
{: .output}



~~~
favourite.numeric == 8.8
~~~
{: .language-r}



~~~
[1] TRUE
~~~
{: .output}



~~~
favourite.numeric == 9.9
~~~
{: .language-r}



~~~
[1] FALSE
~~~
{: .output}


### Vectors
We can create 1D data structures called "vectors".

~~~
1:10
~~~
{: .language-r}



~~~
 [1]  1  2  3  4  5  6  7  8  9 10
~~~
{: .output}



~~~
2*(1:10)
~~~
{: .language-r}



~~~
 [1]  2  4  6  8 10 12 14 16 18 20
~~~
{: .output}



~~~
seq(0, 10, 2)
~~~
{: .language-r}



~~~
[1]  0  2  4  6  8 10
~~~
{: .output}


We can store vectors and perform operations on them.

~~~
myvector <- 1:10
myvector
~~~
{: .language-r}



~~~
 [1]  1  2  3  4  5  6  7  8  9 10
~~~
{: .output}



~~~
2^myvector
~~~
{: .language-r}



~~~
 [1]    2    4    8   16   32   64  128  256  512 1024
~~~
{: .output}



~~~
b <- c(3,4,5)
b^2
~~~
{: .language-r}



~~~
[1]  9 16 25
~~~
{: .output}



~~~
disorders <- c("autism","ocd", "depression", "ocd", "anxiety", "autism")
disorders
~~~
{: .language-r}



~~~
[1] "autism"     "ocd"        "depression" "ocd"        "anxiety"   
[6] "autism"    
~~~
{: .output}


### Factors
Factors store categorical data. Under the hood, factors are actually integers that have a string label attached to each unique integer. For example, if we have a long list of Male/Female labels for each of our patients, this will be stored a "row" of zeros and ones by R.

~~~
disorders <- as.factor(disorders)
class(disorders)
~~~
{: .language-r}



~~~
[1] "factor"
~~~
{: .output}

How many categories are there for ethnicity and what are they?

~~~
levels(disorders)
~~~
{: .language-r}



~~~
[1] "anxiety"    "autism"     "depression" "ocd"       
~~~
{: .output}



~~~
nlevels(disorders)
~~~
{: .language-r}



~~~
[1] 4
~~~
{: .output}

A factor can be ordered. This makes sense in the context of a ranking such as a survey response, e.g. Strongly agree to Strong disagree.

~~~
responses <- c("low", "high", "medium", "low", "low", "high", "high", "medium", "medium")

myfactor <- factor(responses, levels = c("low", "medium", "high"))

myorderedfactor <- factor(responses, levels = c("low", "medium", "high"), ordered = TRUE)

levels(myfactor)
~~~
{: .language-r}



~~~
[1] "low"    "medium" "high"  
~~~
{: .output}
By default, factors will be ordered in alphabetical order.

Now our factor is ordered, we can find the lowest category by using `min()`

~~~
min(myfactor) #this will fail
~~~
{: .language-r}



~~~
Error in Summary.factor(structure(c(1L, 3L, 2L, 1L, 1L, 3L, 3L, 2L, 2L: 'min' not meaningful for factors
~~~
{: .error}



~~~
min(myorderedfactor)
~~~
{: .language-r}



~~~
[1] low
Levels: low < medium < high
~~~
{: .output}



### Working with data

A lot of the time in R, we are working with tables of data, know as "data frames".

Commonly,

**rows** may represent instances e.g. *data points*, *patients*, *events*, *samples*, etc. while

**columns** will represent different types of data associated with each data point or instance e.g. *Name*, *ID*, *location*, *time*, *value*...

It is good practive to have a single row for every instance, and an individual, distinct measurement in each of the columns (not multiple measurements in one or redunant information in multiple columns).

Here is an example data frame:


~~~
bmc.data <- data.frame(fname = c("Alice", "Bob", "Carol", "David"),
                       gender = as.factor(c("Female", "Male", "Female", "Male")),
                       disorder = c("autism", "anxiety", "autism", "depression"),
                       age = c(20, 45, 15, 12),
                       biomarker1 = c(5.70, 4.96, 1.37, 10.44),
                       clinicalstage = c("1b", "1a", "1a", "2"),
                       stringsAsFactors = FALSE)
~~~
{: .language-r}

### Viewing The Data
Use the function `View()` to visually inspect the data in a new RStudio pane:

~~~
View(bmc.data)
~~~
{: .language-r}

How many rows and columns do we have?

~~~
nrow(bmc.data)
~~~
{: .language-r}



~~~
[1] 4
~~~
{: .output}



~~~
ncol(bmc.data)
~~~
{: .language-r}



~~~
[1] 6
~~~
{: .output}



~~~
dim(bmc.data)
~~~
{: .language-r}



~~~
[1] 4 6
~~~
{: .output}


### Accessing Subsets
Return the first N rows of your data frame

~~~
head(bmc.data)
~~~
{: .language-r}



~~~
  fname gender   disorder age biomarker1 clinicalstage
1 Alice Female     autism  20       5.70            1b
2   Bob   Male    anxiety  45       4.96            1a
3 Carol Female     autism  15       1.37            1a
4 David   Male depression  12      10.44             2
~~~
{: .output}

The default for the `head()` function is to show the first 6 rows. How do we know this? Type `?` infront of the function name in your console

~~~
?head
~~~
{: .language-r}

Return the first 3 rows of your data frame

~~~
head(bmc.data, n = 3)
~~~
{: .language-r}



~~~
  fname gender disorder age biomarker1 clinicalstage
1 Alice Female   autism  20       5.70            1b
2   Bob   Male  anxiety  45       4.96            1a
3 Carol Female   autism  15       1.37            1a
~~~
{: .output}



~~~
head(bmc.data, 3)
~~~
{: .language-r}



~~~
  fname gender disorder age biomarker1 clinicalstage
1 Alice Female   autism  20       5.70            1b
2   Bob   Male  anxiety  45       4.96            1a
3 Carol Female   autism  15       1.37            1a
~~~
{: .output}



~~~
bmc.data[1:3, ]
~~~
{: .language-r}



~~~
  fname gender disorder age biomarker1 clinicalstage
1 Alice Female   autism  20       5.70            1b
2   Bob   Male  anxiety  45       4.96            1a
3 Carol Female   autism  15       1.37            1a
~~~
{: .output}



~~~
bmc.data[c(1, 2, 3), ]
~~~
{: .language-r}



~~~
  fname gender disorder age biomarker1 clinicalstage
1 Alice Female   autism  20       5.70            1b
2   Bob   Male  anxiety  45       4.96            1a
3 Carol Female   autism  15       1.37            1a
~~~
{: .output}



~~~
bmc.data[c(TRUE, TRUE, TRUE, FALSE), ]
~~~
{: .language-r}



~~~
  fname gender disorder age biomarker1 clinicalstage
1 Alice Female   autism  20       5.70            1b
2   Bob   Male  anxiety  45       4.96            1a
3 Carol Female   autism  15       1.37            1a
~~~
{: .output}


Return the last 2 rows in a data set

~~~
tail(bmc.data, 2)
~~~
{: .language-r}



~~~
  fname gender   disorder age biomarker1 clinicalstage
3 Carol Female     autism  15       1.37            1a
4 David   Male depression  12      10.44             2
~~~
{: .output}


Return the "age" column in the data set

~~~
bmc.data$age
~~~
{: .language-r}



~~~
[1] 20 45 15 12
~~~
{: .output}



~~~
bmc.data[, 4]
~~~
{: .language-r}



~~~
[1] 20 45 15 12
~~~
{: .output}



~~~
bmc.data[, "age"]
~~~
{: .language-r}



~~~
[1] 20 45 15 12
~~~
{: .output}



~~~
bmc.data[, c(F, F, F, T, F, F, F)]
~~~
{: .language-r}



~~~
[1] 20 45 15 12
~~~
{: .output}

Return only the first 3 rows and columns 2 and 5 of the data set

~~~
bmc.data[1:3, c(2,5)]
~~~
{: .language-r}



~~~
  gender biomarker1
1 Female       5.70
2   Male       4.96
3 Female       1.37
~~~
{: .output}

Return the columns named "fname" and "biomarker1"

~~~
bmc.data[,c("fname", "biomarker1")]
~~~
{: .language-r}



~~~
  fname biomarker1
1 Alice       5.70
2   Bob       4.96
3 Carol       1.37
4 David      10.44
~~~
{: .output}


### Filtering the data

Return only the rows (patients) who are Female

~~~
bmc.data[bmc.data$gender == "Female", ]
~~~
{: .language-r}



~~~
  fname gender disorder age biomarker1 clinicalstage
1 Alice Female   autism  20       5.70            1b
3 Carol Female   autism  15       1.37            1a
~~~
{: .output}

What exactly happened here? We made a vector of `TRUE/FALSE` statements, for each row in which this condition is true and then we subset rows in which the index is true

~~~
females <- bmc.data$gender == "Female"
females
~~~
{: .language-r}



~~~
[1]  TRUE FALSE  TRUE FALSE
~~~
{: .output}



~~~
bmc.data[females, ]
~~~
{: .language-r}



~~~
  fname gender disorder age biomarker1 clinicalstage
1 Alice Female   autism  20       5.70            1b
3 Carol Female   autism  15       1.37            1a
~~~
{: .output}

Another way to subset the patients is with the `which()` function

~~~
females <- which(bmc.data$gender == "Female")
females
~~~
{: .language-r}



~~~
[1] 1 3
~~~
{: .output}



~~~
bmc.data[females, ]
~~~
{: .language-r}



~~~
  fname gender disorder age biomarker1 clinicalstage
1 Alice Female   autism  20       5.70            1b
3 Carol Female   autism  15       1.37            1a
~~~
{: .output}



~~~
bmc.data[which(bmc.data$gender == "Female"), ]
~~~
{: .language-r}



~~~
  fname gender disorder age biomarker1 clinicalstage
1 Alice Female   autism  20       5.70            1b
3 Carol Female   autism  15       1.37            1a
~~~
{: .output}


What if we want all patients older than 16 years of age?

~~~
bmc.data[bmc.data$age > 16, ]
~~~
{: .language-r}



~~~
  fname gender disorder age biomarker1 clinicalstage
1 Alice Female   autism  20       5.70            1b
2   Bob   Male  anxiety  45       4.96            1a
~~~
{: .output}

### Adding records
Add a new row to the data set using the rbind() function:


~~~
new.person <- data.frame(fname = "Evelyn",
                         gender = "Female",
                         disorder = "anxiety",
                         age = 27,
                         biomarker1 = 40.8,
                         clinicalstage = "2")

bmc.data <- rbind(bmc.data, new.person)
~~~
{: .language-r}

> ## Section quiz
>
> This is the body of the challenge.
>
> ~~~
> it may include some code
> ~~~
> {: .source}
>
> > ## Solution
> >
> > This is the body of the solution.
> >
> > ~~~
> > it may also include some code
> > ~~~
> > {: .output}
> {: .solution}
{: .challenge}



### Quiz
1. Return those patients whose clinical stage is "1a"

2. Return those patients whose biomarker1 value is less than 6.7

3. Return just the first name of all patients older than 16 years of age




## Working with more realistic Data

The dataset that we will be using today is taken from University of California, Irvine's Machine Learning Repository. We will be examining the [Autism Screening Adult Data Set](https://archive.ics.uci.edu/ml/datasets/Autism+Screening+Adult). This is data collected by Dr Fadi Fayez Thabtah at NMIT via the mobile app ASD Tests.

Click [here](https://raw.githubusercontent.com/n-ho/bmc_r_workshop_2018/master/_episodes/autism_data.csv) to open the data on your browser. Then, right-click and Save As "autism_data" in the "comma-separated values" or "csv" format into your working directory.

Variable | Definition
-----------------|------------------------------------------------
id | The participant's ID number
AX_Score | Score based on the Autism Spectrum Quotient (AQ) 10 item screening tool [AQ-10](http://docs.autismresearchcentre.com/tests/AQ10.pdf)
age | Age in years
gender | Male or Female
ethnicity | Ethnicities in text form
jaundice | Whether or not the participant was born with jaundice?
autism | Whether or not anyone in tbe immediate family has been diagnosed with autism?
country_of_res| Countries in text format
used_app_before | Whether the participant has used a screening app
result | Score from the AQ-10 screening tool
age_desc | Age as categorical
relation | Relation of person who completed the test
Class/ASD | Participant classification


### Reading in Data

The first thing to do before we can begin an analysis is loading some data. To do this we can use the below command.


~~~
autism.data <- read.csv(file = "data/autism_data.csv",
                        header = TRUE,
                        sep = ",",
                        na.strings = "?")
~~~
{: .language-r}

Before going any further, let's break down what this command does specifically.

1. It reads the file, which could be
- a file path e.g. `"~/Documents/MyFolder/datafile.csv"`
- a url like we have here e.g. `"http://www.website.com/subdomain/datafile.csv"`
2. It specifies that the first row in the csv file contains "header" information i.e. column names
3. It specifies that neighbouring columns are separated by a comma ","
4. It specifies that this CSV file uses "?" as the text for missing data

How would we find this out if we didn't know already? Look at the help file:

~~~
?read.csv
~~~
{: .language-r}

Comma Separated Value (.csv) files are usually the standard, simplest format which is compatible with all sort of different software, e.g. R, python, Excel, MATLAB, ...

But if we needed to read in a different format of data, there's usually a function or a library for doing just that,

e.g.
in base R:

- `read.csv()`
- `read.table()`

In the package "xlsx":

- `read.xlsx()`

In the package "haven":

- `read_spss()` for SPSS files


### Viewing The Data
Remember, we use the function `View()` to visually inspect at the data

~~~
View(autism.data)
~~~
{: .language-r}


What data type is this data?

~~~
class(autism.data)
~~~
{: .language-r}



~~~
[1] "data.frame"
~~~
{: .output}


What variables are included in this dataset?

~~~
colnames(autism.data)
~~~
{: .language-r}



~~~
 [1] "id"              "A1_Score"        "A2_Score"       
 [4] "A3_Score"        "A4_Score"        "A5_Score"       
 [7] "A6_Score"        "A7_Score"        "A8_Score"       
[10] "A9_Score"        "A10_Score"       "age"            
[13] "gender"          "ethnicity"       "jaundice"       
[16] "autism"          "contry_of_res"   "used_app_before"
[19] "result"          "age_desc"        "relation"       
[22] "Class.ASD"      
~~~
{: .output}


### Changing The Column Names
We've a typo in the country of residence column. Let's correct this by first finding the column with the typo.

~~~
colnames(autism.data)
~~~
{: .language-r}



~~~
 [1] "id"              "A1_Score"        "A2_Score"       
 [4] "A3_Score"        "A4_Score"        "A5_Score"       
 [7] "A6_Score"        "A7_Score"        "A8_Score"       
[10] "A9_Score"        "A10_Score"       "age"            
[13] "gender"          "ethnicity"       "jaundice"       
[16] "autism"          "contry_of_res"   "used_app_before"
[19] "result"          "age_desc"        "relation"       
[22] "Class.ASD"      
~~~
{: .output}



~~~
which(colnames(autism.data) == "contry_of_res")
~~~
{: .language-r}



~~~
[1] 17
~~~
{: .output}



~~~
colnames(autism.data)[17] <- "country"
~~~
{: .language-r}

Afterwards, view the data again to check the column names have been changed

~~~
View(autism.data)
~~~
{: .language-r}

### Add a new column
Let's create a better participant ID than just 1,2,3,...

The first function we will need is `paste()`. This function concatenates strings. For example;

~~~
paste("hel", "lo")
~~~
{: .language-r}



~~~
[1] "hel lo"
~~~
{: .output}


This leaves an unwanted gap, hence we'll use the `sep` parameter

~~~
paste("hel", "lo", sep = "")
~~~
{: .language-r}



~~~
[1] "hello"
~~~
{: .output}

Now let's add the letter "P" to the front of the IDS. Then, we'll add this as a new column

~~~
new_ids <- paste( "PatientID_" , autism.data$id, sep = "")

autism.data$pids <- new_ids
~~~
{: .language-r}

Afterwards, view the data again to check the new "pids" column.

~~~
View(autism.data)
~~~
{: .language-r}



### Accessing Subsets
Let's look at all the records for those with a family history of autism:

~~~
family.autism.data <- autism.data[autism.data$autism == "yes",]
~~~
{: .language-r}

What is the average AQ-10 score for those with a familial history of autism?

~~~
mean(family.autism.data$result)
~~~
{: .language-r}



~~~
[1] 6.120879
~~~
{: .output}

What about for those with no familial history of autism?

~~~
no.family.autism.data <- autism.data[autism.data$autism == "no",]
mean(no.family.autism.data$result)
~~~
{: .language-r}



~~~
[1] 4.690049
~~~
{: .output}

Who is the oldest person in the dataset and what is their age?

~~~
max(autism.data$age)
~~~
{: .language-r}



~~~
[1] NA
~~~
{: .output}



~~~
# ignore missing data
max(autism.data$age, na.rm = TRUE)
~~~
{: .language-r}



~~~
[1] 383
~~~
{: .output}



~~~
which.max(autism.data$age)
~~~
{: .language-r}



~~~
[1] 53
~~~
{: .output}

Someone is apparently 383 years old! There are a number of possibilities why this value is here with a range of probabilities from the most likely (the participant made a typo) to the least (the participant is yoda).

For our purposes, let's remove this person. To do so, we'll use the `-` sign in front of the indices we want.

~~~
autism.data <- autism.data[-which.max(autism.data$age), ]
~~~
{: .language-r}

Who is the youngest person in this dataset and how old are they?

~~~
min(autism.data$age, na.rm = TRUE)
~~~
{: .language-r}



~~~
[1] 17
~~~
{: .output}



~~~
which.min(autism.data$age)
~~~
{: .language-r}



~~~
[1] 7
~~~
{: .output}


### Summarising Your Data
A handy way to inspect your data is to summarise it. To do so, use the `summary()` function

~~~
summary(autism.data)
~~~
{: .language-r}



~~~
       id           A1_Score         A2_Score         A3_Score    
 Min.   :  1.0   Min.   :0.0000   Min.   :0.0000   Min.   :0.000  
 1st Qu.:177.5   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.000  
 Median :353.0   Median :1.0000   Median :0.0000   Median :0.000  
 Mean   :352.9   Mean   :0.7212   Mean   :0.4538   Mean   :0.458  
 3rd Qu.:528.5   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.000  
 Max.   :704.0   Max.   :1.0000   Max.   :1.0000   Max.   :1.000  
                                                                  
    A4_Score         A5_Score         A6_Score         A7_Score     
 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  
 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  
 Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000  
 Mean   :0.4964   Mean   :0.4993   Mean   :0.2845   Mean   :0.4182  
 3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000  
 Max.   :1.0000   Max.   :1.0000   Max.   :1.0000   Max.   :1.0000  
                                                                    
    A8_Score         A9_Score        A10_Score           age       
 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :17.00  
 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:21.00  
 Median :1.0000   Median :0.0000   Median :1.0000   Median :27.00  
 Mean   :0.6501   Mean   :0.3243   Mean   :0.5747   Mean   :29.19  
 3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:35.00  
 Max.   :1.0000   Max.   :1.0000   Max.   :1.0000   Max.   :64.00  
                                                    NA's   :2      
 gender            ethnicity   jaundice  autism   
 f:336   White-European :233   no :634   no :612  
 m:367   Asian          :123   yes: 69   yes: 91  
         Middle Eastern : 92                      
         Black          : 43                      
         South Asian    : 36                      
         (Other)        : 81                      
         NA's           : 95                      
                 country    used_app_before     result      
 United States       :113   no :691         Min.   : 0.000  
 United Arab Emirates: 82   yes: 12         1st Qu.: 3.000  
 India               : 81                   Median : 4.000  
 New Zealand         : 80                   Mean   : 4.881  
 United Kingdom      : 77                   3rd Qu.: 7.000  
 Jordan              : 47                   Max.   :10.000  
 (Other)             :223                                   
        age_desc                       relation   Class.ASD
 18 and more:703   Health care professional:  4   NO :514  
                   Others                  :  5   YES:189  
                   Parent                  : 50            
                   Relative                : 28            
                   Self                    :521            
                   NA's                    : 95            
                                                           
     pids          
 Length:703        
 Class :character  
 Mode  :character  
                   
                   
                   
                   
~~~
{: .output}


Use the summary function to return a quick summary of only the country column

~~~
summary(autism.data$country)
~~~
{: .language-r}



~~~
         Afghanistan        AmericanSamoa               Angola 
                  13                    2                    1 
           Argentina              Armenia                Aruba 
                   2                    2                    1 
           Australia              Austria           Azerbaijan 
                  27                    4                    1 
             Bahamas           Bangladesh              Belgium 
                   2                    3                    3 
             Bolivia               Brazil              Burundi 
                   1                    9                    1 
              Canada                Chile                China 
                  15                    1                    1 
          Costa Rica               Cyprus       Czech Republic 
                   1                    1                    1 
             Ecuador                Egypt             Ethiopia 
                   1                    3                    2 
             Finland               France              Germany 
                   1                   11                    4 
           Hong Kong              Iceland                India 
                   1                    2                   81 
           Indonesia                 Iran                 Iraq 
                   1                    7                    1 
             Ireland                Italy                Japan 
                   5                    5                    1 
              Jordan           Kazakhstan              Lebanon 
                  47                    3                    1 
            Malaysia               Mexico                Nepal 
                   5                    8                    1 
         Netherlands          New Zealand            Nicaragua 
                  10                   80                    1 
               Niger                 Oman             Pakistan 
                   1                    1                    3 
         Philippines             Portugal              Romania 
                   4                    1                    3 
              Russia         Saudi Arabia               Serbia 
                   7                    4                    1 
        Sierra Leone         South Africa                Spain 
                   1                    2                    3 
           Sri Lanka               Sweden                Tonga 
                  14                    2                    1 
              Turkey              Ukraine United Arab Emirates 
                   1                    2                   82 
      United Kingdom        United States              Uruguay 
                  77                  113                    1 
            Viet Nam 
                   5 
~~~
{: .output}


Why does the summary function give you quartiles for some column and provide counts for others? Remember that data frames are 2D collections that can hold data of different types

~~~
class(autism.data$age)
~~~
{: .language-r}



~~~
[1] "integer"
~~~
{: .output}



~~~
summary(autism.data$age)
~~~
{: .language-r}



~~~
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
  17.00   21.00   27.00   29.19   35.00   64.00       2 
~~~
{: .output}



~~~
class(autism.data$country)
~~~
{: .language-r}



~~~
[1] "factor"
~~~
{: .output}



~~~
summary(autism.data$country)
~~~
{: .language-r}



~~~
         Afghanistan        AmericanSamoa               Angola 
                  13                    2                    1 
           Argentina              Armenia                Aruba 
                   2                    2                    1 
           Australia              Austria           Azerbaijan 
                  27                    4                    1 
             Bahamas           Bangladesh              Belgium 
                   2                    3                    3 
             Bolivia               Brazil              Burundi 
                   1                    9                    1 
              Canada                Chile                China 
                  15                    1                    1 
          Costa Rica               Cyprus       Czech Republic 
                   1                    1                    1 
             Ecuador                Egypt             Ethiopia 
                   1                    3                    2 
             Finland               France              Germany 
                   1                   11                    4 
           Hong Kong              Iceland                India 
                   1                    2                   81 
           Indonesia                 Iran                 Iraq 
                   1                    7                    1 
             Ireland                Italy                Japan 
                   5                    5                    1 
              Jordan           Kazakhstan              Lebanon 
                  47                    3                    1 
            Malaysia               Mexico                Nepal 
                   5                    8                    1 
         Netherlands          New Zealand            Nicaragua 
                  10                   80                    1 
               Niger                 Oman             Pakistan 
                   1                    1                    3 
         Philippines             Portugal              Romania 
                   4                    1                    3 
              Russia         Saudi Arabia               Serbia 
                   7                    4                    1 
        Sierra Leone         South Africa                Spain 
                   1                    2                    3 
           Sri Lanka               Sweden                Tonga 
                  14                    2                    1 
              Turkey              Ukraine United Arab Emirates 
                   1                    2                   82 
      United Kingdom        United States              Uruguay 
                  77                  113                    1 
            Viet Nam 
                   5 
~~~
{: .output}


Another way to summarise a `factor` column is to use the `table()` function

~~~
table(autism.data$country)
~~~
{: .language-r}



~~~

         Afghanistan        AmericanSamoa               Angola 
                  13                    2                    1 
           Argentina              Armenia                Aruba 
                   2                    2                    1 
           Australia              Austria           Azerbaijan 
                  27                    4                    1 
             Bahamas           Bangladesh              Belgium 
                   2                    3                    3 
             Bolivia               Brazil              Burundi 
                   1                    9                    1 
              Canada                Chile                China 
                  15                    1                    1 
          Costa Rica               Cyprus       Czech Republic 
                   1                    1                    1 
             Ecuador                Egypt             Ethiopia 
                   1                    3                    2 
             Finland               France              Germany 
                   1                   11                    4 
           Hong Kong              Iceland                India 
                   1                    2                   81 
           Indonesia                 Iran                 Iraq 
                   1                    7                    1 
             Ireland                Italy                Japan 
                   5                    5                    1 
              Jordan           Kazakhstan              Lebanon 
                  47                    3                    1 
            Malaysia               Mexico                Nepal 
                   5                    8                    1 
         Netherlands          New Zealand            Nicaragua 
                  10                   80                    1 
               Niger                 Oman             Pakistan 
                   1                    1                    3 
         Philippines             Portugal              Romania 
                   4                    1                    3 
              Russia         Saudi Arabia               Serbia 
                   7                    4                    1 
        Sierra Leone         South Africa                Spain 
                   1                    2                    3 
           Sri Lanka               Sweden                Tonga 
                  14                    2                    1 
              Turkey              Ukraine United Arab Emirates 
                   1                    2                   82 
      United Kingdom        United States              Uruguay 
                  77                  113                    1 
            Viet Nam 
                   5 
~~~
{: .output}


A difference between using the `summary()` function over the `table()` function for factors is that by default, the `summary()` function also counts `NA` values whereas in this must be specified for `table()`

~~~
summary(autism.data$ethnicity)
~~~
{: .language-r}



~~~
          Asian           Black        Hispanic          Latino 
            123              43              13              20 
Middle Eastern           others          Others        Pasifika 
             92               1              30              11 
    South Asian         Turkish  White-European            NA's 
             36               6             233              95 
~~~
{: .output}



~~~
table(autism.data$ethnicity)
~~~
{: .language-r}



~~~

          Asian           Black        Hispanic          Latino 
            123              43              13              20 
Middle Eastern           others          Others        Pasifika 
             92               1              30              11 
    South Asian         Turkish  White-European 
             36               6             233 
~~~
{: .output}



~~~
table(autism.data$ethnicity, useNA = "ifany")
~~~
{: .language-r}



~~~

          Asian           Black        Hispanic          Latino 
            123              43              13              20 
Middle Eastern           others          Others        Pasifika 
             92               1              30              11 
    South Asian         Turkish  White-European            <NA> 
             36               6             233              95 
~~~
{: .output}


###Quiz

1. What is the proportions to males to females in this dataset?

2. Return those participants whose `gender` is female

3. Return those participants whose `gender` is female into a new data frame called "females.autism.data"

4. What is the mean `result` score for those classified as ASD

5. What is the mean `result` score for those not classified as ASD






## Writing the data out
Use the write.table() function to make the data file a text file


~~~
write.table(x = bmc.data,
            file = "bmcdata.txt",
            row.names = FALSE,
            col.names = TRUE,
            sep = ",")
~~~
{: .language-r}

Use the write.csv() function to make the datafile a csv (comma separated values) file

~~~
write.csv(x = bmc.data,
          file = "bmcdata.csv",
          row.names = FALSE)
~~~
{: .language-r}
